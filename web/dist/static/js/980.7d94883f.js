"use strict";(self["webpackChunk_7OxCloud"]=self["webpackChunk_7OxCloud"]||[]).push([[980],{9131:function(t,e,i){i.d(e,{Z:function(){return U}});var s=function(){var t=this,e=t._self._c;return e("div",{ref:"commentWindow",staticClass:"comment-window",style:{"--bg":`url(${t.bg})`},on:{wheel:function(t){t.stopPropagation()},click:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()},pointerdown:function(t){t.stopPropagation()}}},[e("header",{staticClass:"comment-window-header"},[e("span",[t._v("评论")]),e("span",{staticClass:"close",on:{click:function(e){return t.$emit("close")}}},[e("CloseIcon")],1)]),e("main",{staticClass:"comment-window-main",class:{"no-comment":!t.commentList.length&&!t.loading,center:t.loading&&!t.commentList.length}},[t.loading&&!t.commentList.length?e("Loading"):t._e(),t._l(t.commentList,(function(i){return e("CommentItem",t._b({key:i.id,on:{replyTo:t.changeReply,refresh:t.getCommentList}},"CommentItem",i,!1))}))],2),e("footer",{staticClass:"comment-window-footer"},[t.reply.cid?e("div",{staticClass:"comment-window-footer-reply"},[e("p",{staticClass:"comment-window-footer-reply-content"},[e("span",[t._v("回复")]),e("span",[t._v("@"+t._s(t.reply.username))]),e("span",[t._v(":")]),e("span",[t._v(t._s(t.reply.content))])]),e("span",{staticClass:"close",on:{click:function(e){t.reply={}}}},[e("CloseIcon")],1)]):t._e(),e("el-input",{ref:"input",attrs:{type:"textarea",autosize:"",resize:"none",maxlength:"300",disabled:!t.userInfo.uid},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.submit.apply(null,arguments))},click:function(e){return t.toggleLogin.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t.input.trim()?e("div",{staticClass:"comment-window-footer-submit",on:{click:t.submit}},[e("SubmitIcon")],1):t._e()],1)])},o=[],n=i(6655),a=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"36",height:"36",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.5 30C23.851 30 29 24.851 29 18.5S23.851 7 17.5 7 6 12.149 6 18.5 11.149 30 17.5 30zm-5.16-13.883a1.16 1.16 0 001.64 1.64l2.395-2.394v8.838a1.16 1.16 0 002.321 0v-8.839l1.028 1.028 1.368 1.368a1.16 1.16 0 001.64-1.641l-4.219-4.22a1.382 1.382 0 00-1.954 0l-4.22 4.22z"}})])},l=[],r=i(1001),m={},c=(0,r.Z)(m,a,l,!1,null,"274c5311",null),u=c.exports,h=i(2675);i(7658);function p(t,e={}){const i=[];for(const s of t){const{cid:t,children:o,...n}=s;if(i.push({cid:t,...e,...n}),o&&o.length>0){const e=p(o,{pid:t,pAuthor:s.author});i.push(...e)}}return i}var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-item"},[e("div",{staticClass:"comment-item-left"},[e("router-link",{attrs:{to:`/user/${t.author.id}`}},[e("el-avatar",{attrs:{src:t.author.avatar,alt:"",size:32}})],1)],1),e("div",{staticClass:"comment-item-right"},[e("div",{staticClass:"comment-item-right-top"},[e("router-link",{attrs:{to:`/user/${t.author.id}`}},[e("span",{staticClass:"comment-item-right-top-name"},[t._v(t._s(t.author.username))])])],1),e("div",{staticClass:"comment-item-right-bottom"},[e("p",{staticClass:"comment-item-right-bottom-text"},[e("span",[t._v(t._s(t.content))])]),e("p",{staticClass:"comment-item-right-bottom-time"},[e("span",[t._v(t._s(t.formatTime(t.createdAt)))])]),e("p",{staticClass:"comment-item-right-bottom-reply"},[e("span",{on:{click:function(e){return t.replyTo(t.cid,t.author.username,t.content)}}},[e("CommentHollowIcon"),t._v("回复 ")],1),t.author.id===t.userInfo.uid?e("span",{on:{click:function(e){return t.DeleteComment(t.cid)}}},[e("i",{staticClass:"el-icon-delete"}),t._v("删除评论 ")]):t._e()]),e("ul",{staticClass:"comment-item-right-bottom-list"},t._l(t.children.slice(0,t.sliceNum),(function(i){return e("li",{key:i.cid,staticClass:"comment-item-right-bottom-list-item"},[e("div",{staticClass:"comment-item-right-bottom-list-item-left"},[e("router-link",{attrs:{to:`/user/${i.author.id}`}},[e("el-avatar",{attrs:{src:i.author.avatar,alt:"",size:20}})],1)],1),e("div",{staticClass:"comment-item-right-bottom-list-item-right"},[e("div",{staticClass:"comment-item-right-bottom-list-item-right-top"},[e("p",{staticClass:"comment-item-right-top"},[e("router-link",{attrs:{to:`/user/${i.author.id}`}},[e("span",{staticClass:"comment-item-right-bottom-list-item-right-top-name"},[t._v(" "+t._s(i.author.username)+" ")])]),i.pid!==t.cid?e("span",{staticClass:"comment-item-right-bottom-list-item-right-top-to"},[e("i",{staticClass:"el-icon-caret-right"})]):t._e(),i.pid!==t.cid?e("router-link",{attrs:{to:`/user/${i.pAuthor.id}`}},[e("span",{staticClass:"comment-item-right-bottom-list-item-right-top-name"},[t._v(" "+t._s(i.pAuthor.username)+" ")])]):t._e()],1)]),e("div",{staticClass:"comment-item-right-bottom-list-item-right-bottom"},[e("p",{staticClass:"comment-item-right-bottom-text"},[e("span",[t._v(t._s(i.content))])]),e("p",{staticClass:"comment-item-right-bottom-time"},[e("span",[t._v(t._s(t.formatTime(i.createdAt)))])]),e("p",{staticClass:"comment-item-right-bottom-reply"},[e("span",{on:{click:function(e){return t.replyTo(i.cid,i.author.username,i.content)}}},[e("CommentHollowIcon"),t._v("回复 ")],1),i.author.id===t.userInfo.uid?e("span",{on:{click:function(e){return t.DeleteComment(i.cid)}}},[e("i",{staticClass:"el-icon-delete"}),t._v("删除评论 ")]):t._e()])])])])})),0),t.children&&t.children.length>t.sliceNum?e("div",{staticClass:"comment-item-more",on:{click:t.moreComment}},[e("i",{staticClass:"el-icon-caret-right"}),e("span",[t._v("点击查看更多评论")])]):t.children&&t.children.length>0?e("div",{staticClass:"comment-item-more",on:{click:t.lessComment}},[e("i",{staticClass:"el-icon-caret-top"}),e("span",[t._v("点击折叠评论")])]):t._e()])])])},C=[],g=i(4781),f=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"gAHTLYk3",attrs:{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6 17.617C6 11.561 11.578 7 18 7s12 4.561 12 10.617c0 3.036-1.51 5.529-3.749 7.728-.187.184-.381.364-.58.54-1.925 2.082-3.911 3.417-5.847 3.973-.77.221-1.702.242-2.454-.381-.68-.564-.837-1.361-.878-1.823a3.848 3.848 0 01-.01-.136C10.898 26.91 6 23.264 6 17.617zM18 10c-5.177 0-9 3.602-9 7.617 0 3.867 3.794 6.992 9.152 6.992h1.5v1.717l-.06.206c0-.001-.03.104-.06.259 1.155-.46 2.515-1.394 3.984-2.996l.056-.06.063-.055c.182-.16.353-.318.514-.475C26.075 21.312 27 19.543 27 17.617 27 13.602 23.177 10 18 10z","fill-opacity":"0.9"}})])},v=[],_={},y=(0,r.Z)(_,f,v,!1,null,null,null),w=y.exports,k=i(3822),x={name:"CommentItem",components:{CommentHollowIcon:w},computed:{...(0,k.rn)({userInfo:t=>t.user.userInfo})},props:{author:{type:Object,default(){return{}}},cid:{type:Number},content:{type:String},createdAt:{type:Number},children:{type:Array,default(){return[]}}},data(){return{sliceNum:0}},methods:{formatTime:g.Z,moreComment(){this.sliceNum=this.sliceNum+3},lessComment(){this.sliceNum=0},replyTo(t,e,i){this.$emit("replyTo",{cid:t,username:e,content:i})},async DeleteComment(t){(0,h.LN)(t).then((t=>{t&&(200===t.status?(this.$message.success(t.data.msg),this.$emit("refresh")):this.$message.error(t.data.msg))}))}}},b=x,L=(0,r.Z)(b,d,C,!1,null,"7d4f084d",null),I=L.exports,$=i(9884),Z={name:"CommentWindow",components:{CloseIcon:n.Z,SubmitIcon:u,CommentItem:I,Loading:$.Z},computed:{...(0,k.rn)({userInfo:t=>t.user.userInfo})},props:{bg:{type:String,default:""},vid:{type:Number|String,required:!0}},data(){return{input:"",commentList:[],loading:!1,reply:{cid:null,username:"",content:""},observe:null}},methods:{toggleLogin(){this.userInfo.uid||this.$bus.$emit("toggleLogin")},submit(){(0,h.kv)({vid:this.vid,content:this.input,pid:this.reply.cid}).then((t=>{t&&(200===t.status?(this.input="",this.reply={},this.getCommentList()):this.$message.error(t.data.msg))}))},changeReply(t){this.reply=t,this.focus()},focus(){this.$refs.input.focus()},getCommentList(){this.loading||(this.loading=!0,(0,h.I$)(this.vid).then((t=>{t&&(200===t.status&&(this.commentList=t.data.data||[],this.commentList.forEach((t=>{t.children&&(t.children=p(t.children,{pid:t.cid,pAuthor:t.author}))})),this.$emit("changeCommentLength",this.commentList.reduce(((t,e)=>t+(e.children||[]).length+1),0))),this.loading=!1)})))}},mounted(){this.observe=new IntersectionObserver((t=>{t[0].isIntersecting&&this.getCommentList()}),{threshold:1}),this.observe.observe(this.$refs.commentWindow)}},z=Z,N=(0,r.Z)(z,s,o,!1,null,"03c9b606",null),U=N.exports},9884:function(t,e,i){i.d(e,{Z:function(){return r}});var s=function(){var t=this;t._self._c;return t._m(0)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading"},[e("div",{staticClass:"loading-img"}),e("p",{staticClass:"loading-text"},[t._v("加载中...")])])}],n=i(1001),a={},l=(0,n.Z)(a,s,o,!1,null,"5d0d0e96",null),r=l.exports},5980:function(t,e,i){i.d(e,{Z:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"player-with-method",style:{height:t.height}},[e("XgPlayer",{ref:"XgPlayer",staticClass:"xgplayer-item",attrs:{autoHide:!1,vid:t.vid,playUrl:t.playUrl,coverUrl:t.coverUrl,autoplay:t.autoplay},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title")]},proxy:!0},{key:"operation",fn:function(){return[e("UserOperation",{ref:"UserOperation",attrs:{isUser:t.isUser,vid:t.vid,author:t.author,likeCount:t.likeCount,commentCount:t.commentCount,collectCount:t.collectCount,isLike:t.isLike,isCollect:t.isCollect},on:{handleComment:function(e){t.isComment=!t.isComment}}})]},proxy:!0}],null,!0)},[[t._t("default")]],2),e("CommentWindow",{staticClass:"xgplayer-comment",class:{active:t.isComment},attrs:{show:t.isComment,bg:t.coverUrl,vid:t.vid},on:{close:function(e){t.isComment=!1},changeCommentLength:t.changeCommentCount}})],1)},o=[],n=i(7052),a=i(9131),l=i(5675),r={name:"PlayerWithMethod",components:{UserOperation:n.Z,CommentWindow:a.Z,XgPlayer:l.Z},data(){return{isComment:!1}},props:{vid:{type:Number|String,required:!0},autoplay:{type:Boolean,default:!1},coverUrl:{type:String,default:""},playUrl:{type:String,default:""},height:{type:String,default:"100%"},isUser:{type:Boolean,default:!1},author:{type:Object,default:()=>({})},likeCount:{type:Number,default:0},commentCount:{type:Number,default:0},collectCount:{type:Number,default:0},isLike:{type:Boolean,default:!1},isCollect:{type:Boolean,default:!1}},methods:{changeCommentCount(t){this.$refs.UserOperation.changeCommentCount(t)},play(){this.$refs.XgPlayer.play()},pause(){this.$refs.XgPlayer.pause()}}},m=r,c=i(1001),u=(0,c.Z)(m,s,o,!1,null,"4cbffe47",null),h=u.exports},7052:function(t,e,i){i.d(e,{Z:function(){return z}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"xgplayer-operation",on:{pointerdown:function(t){t.stopPropagation()},mousedown:function(t){t.stopPropagation()},dblclick:function(t){t.stopPropagation()}}},[t.isUser?e("div",{staticClass:"xgplayer-operation-item avatar"},[e("router-link",{attrs:{to:`/user/${t.uid}`}},[e("el-avatar",{attrs:{size:40,src:t.author.avatar}})],1),t.uid===t.userInfo.uid||t.m_isFollow?t._e():e("button",{staticClass:"follow",on:{click:t.handleFollow}})],1):t._e(),e("div",{staticClass:"xgplayer-operation-item like",on:{click:t.handleLike}},[e("LikeIcon",{attrs:{isLike:t.m_isLike}}),e("span",[t._v(t._s(t.m_likeCount))])],1),e("div",{staticClass:"xgplayer-operation-item comment",on:{click:t.handleComment}},[e("CommentIcon"),e("span",[t._v(t._s(t.m_commentCount))])],1),e("div",{staticClass:"xgplayer-operation-item collect",on:{click:t.handleCollect}},[e("CollectIcon",{attrs:{isCollect:t.m_isCollect}}),e("span",[t._v(t._s(t.m_collectCount))])],1)])},o=[],n=function(){var t=this,e=t._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",width:"50",height:"50"}},[e("g",{attrs:{"clip-path":"url(#__lottie_element_156)",transform:"matrix(0.4658204913139343,0,0,0.4658204913139343,23.050769805908203,26.447376251220703)",opacity:"1"}},[e("g",{attrs:{transform:"matrix(1,0,0,1,10,10)",opacity:"1"}},[e("g",{attrs:{opacity:"1",transform:"matrix(1,0,0,1,0,0)"}},[e("path",{class:{"is-active":t.isCollect},attrs:{fill:"rgb(255,255,255)","fill-opacity":"1",d:" M43.79199981689453,4.316999912261963 C45.93899917602539,-1.4390000104904175 54.06100082397461,-1.4390000104904175 56.20800018310547,4.316999912261963 C56.20800018310547,4.316999912261963 65.927001953125,30.375 65.927001953125,30.375 C65.927001953125,30.375 93.6510009765625,31.59000015258789 93.6510009765625,31.59000015258789 C99.7750015258789,31.857999801635742 102.28500366210938,39.60200119018555 97.48799896240234,43.428001403808594 C97.48799896240234,43.428001403808594 75.77100372314453,60.74700164794922 75.77100372314453,60.74700164794922 C75.77100372314453,60.74700164794922 83.18599700927734,87.55599975585938 83.18599700927734,87.55599975585938 C84.8239974975586,93.47799682617188 78.25299835205078,98.26399993896484 73.14099884033203,94.87200164794922 C73.14099884033203,94.87200164794922 50,79.51799774169922 50,79.51799774169922 C50,79.51799774169922 26.858999252319336,94.87200164794922 26.858999252319336,94.87200164794922 C21.746999740600586,98.26399993896484 15.175999641418457,93.47799682617188 16.81399917602539,87.55599975585938 C16.81399917602539,87.55599975585938 24.229000091552734,60.74700164794922 24.229000091552734,60.74700164794922 C24.229000091552734,60.74700164794922 2.51200008392334,43.428001403808594 2.51200008392334,43.428001403808594 C-2.2850000858306885,39.60200119018555 0.22499999403953552,31.857999801635742 6.348999977111816,31.59000015258789 C6.348999977111816,31.59000015258789 34.073001861572266,30.375 34.073001861572266,30.375 C34.073001861572266,30.375 43.79199981689453,4.316999912261963 43.79199981689453,4.316999912261963z"}})])])])])},a=[],l={props:{isCollect:{type:Boolean,default:!1}}},r=l,m=i(1001),c=(0,m.Z)(r,n,a,!1,null,"991f12c2",null),u=c.exports,h=function(){var t=this,e=t._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 90 90",width:"45",height:"45"}},[e("g",{attrs:{"clip-path":"url(#__lottie_element_2)"}},[e("g",{attrs:{"clip-path":"url(#__lottie_element_36)",transform:"matrix(0.5250066518783569,0,0,0.5250066518783569,1.0244407653808594,8.821273803710938)",opacity:"1"}},[e("g",{attrs:{"clip-path":"url(#__lottie_element_40)",transform:"matrix(0.10000000149011612,0,0,0.10000000149011612,0,0)",opacity:"1"}},[e("g",{staticClass:"png",attrs:{"clip-path":"url(#__lottie_element_58)",transform:"matrix(1,0,0,1,240,340)",opacity:"1"}},[e("g",{attrs:{transform:"matrix(1,0,0,1,154.5,92)",opacity:"1"}},[e("g",{attrs:{opacity:"1",transform:"matrix(1,0,0,1,0,0)"}},[e("path",{class:{"is-active":t.isLike},attrs:{fill:"rgb(255,255,255)","fill-opacity":"1",d:" M453.0360107421875,88.71199798583984 C493.77398681640625,30.663999557495117 560.6599731445312,0 634.2509765625,0 C774.4030151367188,0 890.9719848632812,121.58999633789062 890.9719848632812,266.1369934082031 C890.9719848632812,266.1549987792969 890.9719848632812,266.1730041503906 890.9719848632812,266.1910095214844 C890.9810180664062,266.1709899902344 890.9910278320312,266.1510009765625 891,266.1310119628906 C891,270.25201416015625 890.9299926757812,273.37200927734375 890.8779907226562,275.6679992675781 C890.8060302734375,278.8190002441406 890.77001953125,280.4159851074219 891,280.9159851074219 C890.468994140625,311.3190002441406 885.2219848632812,336.43798828125 875.8989868164062,369.62799072265625 C870.6090087890625,375.5880126953125 865.6939697265625,386.81201171875 860.7979736328125,399.1990051269531 C853.073974609375,411.1969909667969 850.1510009765625,417.0090026855469 845.697021484375,428.7699890136719 C841.1519775390625,436.39898681640625 836.323974609375,444.06298828125 831.2449951171875,451.7439880371094 C793.7960205078125,508.54400634765625 743.7080078125,565.073974609375 693.6669921875,615.2520141601562 C615.3359985351562,694.2769775390625 535.5440063476562,760.0579833984375 500.8320007324219,788.6749877929688 C491.24700927734375,796.5759887695312 485.1000061035156,801.6439819335938 483.3680114746094,803.375 C471.0669860839844,815.677978515625 458.7650146484375,815.9860229492188 446.4630126953125,815.9940185546875 C446.1390075683594,815.9979858398438 445.8139953613281,816 445.4859924316406,816 C420.25,816 407.6319885253906,803.3809814453125 395.0140075683594,790.7630004882812 C394.0509948730469,789.7999877929688 391.60101318359375,787.7789916992188 387.8580017089844,784.7830200195312 C349.625,756.5999755859375 263.58599853515625,687.7860107421875 182.74200439453125,604.7830200195312 C121.06600189208984,542.02001953125 61.62200164794922,470.0069885253906 29.091999053955078,399.5880126953125 C16.474000930786133,374.35101318359375 0.7310000061988831,314.2640075683594 0,280.9219970703125 C0.26899999380111694,280.6549987792969 0.22699999809265137,279.04901123046875 0.14399999380111694,275.843994140625 C0.08299999684095383,273.49798583984375 0,270.2969970703125 0,266.1369934082031 C0,121.52400207519531 116.50199890136719,0 256.72100830078125,0 C330.1789855957031,0 397.1310119628906,30.663999557495117 453.0360107421875,88.71199798583984z"}})])])])])])])])},p=[],d={props:{isLike:{type:Boolean,default:!1}}},C=d,g=(0,m.Z)(C,h,p,!1,null,"4b266acf",null),f=g.exports,v=function(){var t=this,e=t._self._c;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 100 100",width:"50",height:"50"}},[e("g",{attrs:{"clip-path":"url(#__lottie_element_90)"}},[e("g",{attrs:{transform:"matrix(0.6616870760917664,0,0,0.6616870760917664,76.31503295898438,52.850440979003906)",opacity:"1"}},[e("g",{attrs:{opacity:"1",transform:"matrix(3,0,0,3,0,0)"}},[e("path",{attrs:{fill:"rgb(255,255,255)","fill-opacity":"1",d:" M-4.644999980926514,4.482999801635742 C-7.25,7.818999767303467 -13.482000350952148,8.300000190734863 -13.482000350952148,8.300000190734863 C-13.482000350952148,8.300000190734863 -14.413999557495117,11.48799991607666 -12.135000228881836,10.821000099182129 C-9.855999946594238,10.154000282287598 -7.25,8.152000427246094 -4.644999980926514,4.482999801635742z M-17.36,-1.04 C-17.36,-0.16 -18.07,0.56 -18.96,0.56 C-18.96,0.56 -18.96,0.56 -18.96,0.56 C-19.85,0.56 -20.57,-0.16 -20.57,-1.04 C-20.57,-1.92 -19.85,-2.64 -18.96,-2.64 C-18.07,-2.64 -17.36,-1.92 -17.36,-1.04z M-11.89,-1.04 C-11.89,-0.16 -12.61,0.56 -13.5,0.56 C-13.5,0.56 -13.5,0.56 -13.5,0.56 C-14.39,0.56 -15.11,-0.16 -15.11,-1.04 C-15.11,-1.92 -14.39,-2.64 -13.5,-2.64 C-12.61,-2.64 -11.89,-1.92 -11.89,-1.04z M-6.43,-1.04 C-6.43,-0.16 -7.15,0.56 -8.04,0.56 C-8.04,0.56 -8.04,0.56 -8.04,0.56 C-8.92,0.56 -9.64,-0.16 -9.64,-1.04 C-9.64,-1.92 -8.92,-2.64 -8.04,-2.64 C-7.15,-2.64 -6.43,-1.92 -6.43,-1.04z M-5.79,5.98 C-3.56,3.75 -2.25,1.42 -2.25,-1.29 C-2.25,-6.79 -7.29,-11.25 -13.5,-11.25 C-19.71,-11.25 -24.75,-6.79 -24.75,-1.29 C-24.75,4.21 -19.55,7.99 -13.34,7.99 C-13.34,7.99 -13.34,11.06 -13.34,11.06 C-13.34,11.06 -8.51,8.72 -5.79,5.98z"}}),e("g",{attrs:{opacity:"1",transform:"matrix(1,0,0,1,-6.75,-7.456999778747559)"}},[e("g",{attrs:{opacity:"1",transform:"matrix(-1,0,0,1,0,0)"}}),e("g",{attrs:{opacity:"1",transform:"matrix(-1,0,0,1,0,0)"}}),e("g",{attrs:{opacity:"1",transform:"matrix(-1,0,0,1,0,0)"}}),e("g",{attrs:{opacity:"1",transform:"matrix(-1,0,0,1,0,0)"}})])])])])])},_=[],y={},w=(0,m.Z)(y,v,_,!1,null,null,null),k=w.exports,x=i(2675),b=i(2900),L=i(3822),I={name:"UserOperation",methods:{handleLike(){(0,x.In)({vid:this.vid,type:this.m_isLike?2:1}).then((t=>{t&&(200===t.status?(this.m_likeCount+=this.m_isLike?-1:1,this.m_isLike=!this.m_isLike,this.$message.success(t.data.msg),this.$emit("handleLike",this.vid)):this.$message.error(t.data.msg))}))},handleComment(){this.$emit("handleComment",this.vid)},handleCollect(){(0,x.PX)({vid:this.vid,type:this.m_isCollect?2:1}).then((t=>{t&&(200===t.status?(this.m_collectCount+=this.m_isCollect?-1:1,this.m_isCollect=!this.m_isCollect,this.$message.success(t.data.msg),this.$emit("handleCollect",this.vid)):this.$message.error(t.data.msg))}))},handleFollow(){(0,b.Zz)({userId:this.uid,type:this.m_isFollow?2:1}).then((t=>{t&&(200===t.status?(this.m_isFollow=!this.m_isFollow,this.$message.success(t.data.msg),this.$emit("handleFollow",this.uid)):this.$message.error(t.data.msg))}))},changeCommentCount(t){this.m_commentCount=t}},components:{CollectIcon:u,LikeIcon:f,CommentIcon:k},props:{vid:{type:Number|String,required:!0},author:{type:Object,default:()=>{}},likeCount:{type:Number,default:0},commentCount:{type:Number,default:0},collectCount:{type:Number,default:0},isLike:{type:Boolean,default:!1},isCollect:{type:Boolean,default:!1},isUser:{type:Boolean,default:!1}},data(){return{m_isLike:this.isLike,m_isCollect:this.isCollect,m_isFollow:this.author.isFollow??!0,m_likeCount:this.likeCount,m_collectCount:this.collectCount,m_commentCount:this.commentCount,uid:this.author.uid||this.author.id}},computed:{...(0,L.rn)({userInfo:t=>t.user.userInfo})}},$=I,Z=(0,m.Z)($,s,o,!1,null,"f190a5fe",null),z=Z.exports},6655:function(t,e,i){i.d(e,{Z:function(){return r}});var s=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"ojlTaq_K",attrs:{width:"36",height:"36",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"}},[e("path",{attrs:{d:"M22.133 23.776a1.342 1.342 0 101.898-1.898l-4.112-4.113 4.112-4.112a1.342 1.342 0 00-1.898-1.898l-4.112 4.112-4.113-4.112a1.342 1.342 0 10-1.898 1.898l4.113 4.112-4.113 4.113a1.342 1.342 0 001.898 1.898l4.113-4.113 4.112 4.113z"}})])},o=[],n=i(1001),a={},l=(0,n.Z)(a,s,o,!1,null,null,null),r=l.exports}}]);