"use strict";(self["webpackChunk_7OxCloud"]=self["webpackChunk_7OxCloud"]||[]).push([[339],{4246:function(t,e,s){s.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-status"},[!t.isDataEnd||t.loading?e("Loading",{ref:"loading"}):t.length?e("p",{staticClass:"no-more"},[t._v("暂时没有更多了")]):e("div",{staticClass:"no-data"},[e("el-empty",{attrs:{description:"暂无相关视频"}})],1)],1)},i=[],l=s(9884),n={name:"DataStatus",components:{Loading:l.Z},data(){return{observe:null}},props:{length:{type:Number,default:0},isDataEnd:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},mounted(){this.observe=new IntersectionObserver((t=>{t[0].isIntersecting&&this.$emit("getVideoList")}),{threshold:.3}),this.observe.observe(this.$refs.loading.$el)},beforeDestroy(){this.$refs.loading?.$el&&this.observe.unobserve(this.$refs.loading.$el)}},r=n,o=s(1001),u=(0,o.Z)(r,a,i,!1,null,"acf7796e",null),d=u.exports},9884:function(t,e,s){s.d(e,{Z:function(){return o}});var a=function(){var t=this;t._self._c;return t._m(0)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loading"},[e("div",{staticClass:"loading-img"}),e("p",{staticClass:"loading-text"},[t._v("加载中...")])])}],l=s(1001),n={},r=(0,l.Z)(n,a,i,!1,null,"5d0d0e96",null),o=r.exports},4366:function(t,e,s){s.d(e,{Z:function(){return u}});var a=function(){var t=this,e=t._self._c;return e("span",{staticClass:"topic-item",style:{"--size":t.size+"px"}},[e("router-link",{attrs:{to:{name:"Topic",params:{tid:t.id}}}},[t._v("# "+t._s(t.description))])],1)},i=[],l={name:"Topic",props:{id:{type:Number|String,required:!0},description:{type:String,default:""},size:{type:Number,default:12}}},n=l,r=s(1001),o=(0,r.Z)(n,a,i,!1,null,"7b01258c",null),u=o.exports},1409:function(t,e,s){s.d(e,{Z:function(){return y}});var a=function(){var t=this,e=t._self._c;return e("article",{staticClass:"video"},[e("div",{staticClass:"video-content",style:{paddingTop:100*t.ratio+"%"},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[e("XgPlayer",{ref:"video",staticClass:"video-content-xg",attrs:{playUrl:t.playUrl,coverUrl:t.coverUrl,ignores:["fullscreen","definition","i18n","cssfullscreen","playbackrate"],muted:"",vid:t.vid,ctrlpos:"bottom"}},[[e("div",{staticClass:"video-like-count"},[e("LikeHollowIcon"),t._v(" "+t._s(t.likeCount)+" ")],1),t.isDelete?e("div",{staticClass:"video-delete",on:{click:t.handleDelete}},[e("i",{staticClass:"el-icon-delete"})]):t._e()]],2)],1),e("div",{staticClass:"video-info"},[e("div",{staticClass:"video-info__header",class:{"fix-height":!t.waterfall}},[e("span",{staticClass:"desc"},[e("router-link",{staticClass:"title",attrs:{to:`/video/${t.vid}`}},[t._v(t._s(t.description))])],1),t._l(t.topics,(function(s){return e("Topic",t._b({key:s.id,staticClass:"topic"},"Topic",s,!1))}))],2),t.author?e("div",{staticClass:"video-info__footer"},[e("span",[e("router-link",{staticClass:"author",attrs:{to:{name:"User",params:{uid:t.author.uid}}}},[t._v(" @ "),e("span",[t._v(t._s(t.author.username))])]),e("span",[t._v(" · ")]),t.author.isFollow?e("span",{staticClass:"follow"},[t._v("已关注")]):e("span",{staticClass:"time"},[t._v(t._s(t.formatTime(t.publishTime)))])],1)]):t._e()])])},i=[],l=s(5675),n=s(4781),r=s(4366),o=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"BnHuaqS7",attrs:{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.224 4.667C6.326 4.667 4 7.151 4 10.043l.002.169a1.078 1.078 0 00-.002.094c.009.387.097.855.195 1.245.096.382.23.806.38 1.113.605 1.301 1.664 2.563 2.683 3.6a30.679 30.679 0 003.425 3.008l.02.017.015.012c.226.226.703.7 1.554.7h.025c.241 0 .816-.001 1.331-.502.009-.008.022-.02.042-.035l.182-.151.004-.004c.565-.465 1.886-1.554 3.188-2.867.834-.836 1.698-1.807 2.359-2.81.09-.136.176-.273.258-.41.033-.055.06-.112.082-.17.03-.077.044-.108.055-.13.013-.025.034-.063.088-.146.038-.06.07-.122.096-.188.037-.093.064-.156.085-.199l.004-.009c.087-.11.152-.238.19-.374.162-.576.273-1.082.284-1.705 0-.03 0-.058-.002-.087a7.123 7.123 0 00.001-.206c-.019-2.876-2.338-5.341-5.224-5.341-1.094 0-2.159.339-2.999 1.021-.909-.658-1.957-1.021-3.097-1.021zm9.162 5.377v.134a2.388 2.388 0 000 .14c-.01.294-.057.559-.156.935-.043.07-.076.135-.1.186a4.313 4.313 0 00-.116.26c-.108.173-.178.31-.251.492-.05.082-.104.167-.16.252h-.001c-.55.834-1.304 1.69-2.087 2.476l-.003.002c-1.223 1.234-2.474 2.266-3.033 2.727l-.041.034c-.05.04-.105.086-.157.13l-.06-.061c-.065-.064-.154-.135-.197-.17l-.008-.006a28.517 28.517 0 01-3.214-2.817l-.003-.004c-.968-.985-1.824-2.042-2.27-3.009a4.077 4.077 0 01-.24-.719 4.491 4.491 0 01-.129-.715l.001-.036v-.098l-.001-.005-.002-.129c0-1.778 1.436-3.218 3.066-3.218.857 0 1.667.348 2.393 1.102a1.079 1.079 0 001.66-.129c.428-.61 1.155-.973 2.043-.973 1.63 0 3.066 1.441 3.066 3.218v.001z",fill:"#fff"}})])},u=[],d=s(1001),c={},p=(0,d.Z)(c,o,u,!1,null,null,null),h=p.exports,v=s(3822),f=s(2675),m={name:"VideoBox",data(){return{timer:null}},components:{XgPlayer:l.Z,Topic:r.Z,LikeHollowIcon:h},computed:{...(0,v.rn)({userInfo:t=>t.user.userInfo})},props:{vid:{type:String|Number},publishTime:{type:Number},playUrl:{type:String,default:()=>""},coverUrl:{type:String,default:()=>""},description:{type:String,default:"视频标题"},author:{type:Object,default:()=>{}},ratio:{type:Number,default:3/4},topics:{type:Array,default:()=>[]},waterfall:{type:Boolean,default:!0},likeCount:{type:Number,default:0},isDelete:{type:Boolean,default:!1}},methods:{formatTime:n.Z,play(){this.$refs.video.play()},pause(){this.$refs.video.pause()},handleMouseEnter(){this.timer=setTimeout((()=>{this.play()}),100)},handleMouseLeave(){clearTimeout(this.timer),this.pause()},handleDelete(){(0,f.Wq)(this.vid).then((t=>{200===t.status?(this.$message.success(t?.data?.msg),this.$emit("deleteVideo",this.vid)):this.$message.error(t?.data?.msg)}))}},beforeDestroy(){clearTimeout(this.timer),this.pause()}},g=m,_=(0,d.Z)(g,a,i,!1,null,"7541b632",null),y=_.exports},8495:function(t,e,s){s.d(e,{Z:function(){return y}});var a=function(){var t=this,e=t._self._c;return t.gender?e("MaleIcon"):e("FemaleIcon")},i=[],l=function(){var t=this,e=t._self._c;return e("svg",{staticStyle:{"margin-right":"4px"},attrs:{width:"12",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 1.25a.75.75 0 000 1.5h1.09L7.54 4.298a.757.757 0 00-.058.066 4 4 0 10.968 1.112.752.752 0 00.15-.117L10.25 3.71V5a.75.75 0 001.5 0V2a.75.75 0 00-.75-.75H8zM5 10a2.5 2.5 0 100-5 2.5 2.5 0 000 5z",fill:"#168EF9"}})])},n=[],r=s(1001),o={},u=(0,r.Z)(o,l,n,!1,null,null,null),d=u.exports,c=function(){var t=this,e=t._self._c;return e("svg",{staticStyle:{"margin-right":"4px"},attrs:{width:"12",height:"12",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"}},[e("mask",{staticStyle:{"mask-type":"alpha"},attrs:{id:"woman_svg__a",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"16",height:"16"}},[e("path",{attrs:{fill:"#C4C4C4",d:"M-2-2h16v16H-2z"}})]),e("g",{attrs:{mask:"url(#woman_svg__a)",stroke:"#F5588E","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}},[e("circle",{attrs:{cx:"7.2",cy:"4.896",r:"3.25"}}),e("path",{attrs:{d:"M1.617 10.511l3.115-3.115M1.904 7.396l2.828 2.829"}})])])},p=[],h={},v=(0,r.Z)(h,c,p,!1,null,null,null),f=v.exports,m={name:"GenderIcon",components:{MaleIcon:d,FemaleIcon:f},props:{gender:{type:Number,default:0}}},g=m,_=(0,r.Z)(g,a,i,!1,null,null,null),y=_.exports},6428:function(t,e,s){s(7658);e["Z"]={data(){return{videoList:[],latestTime:null,isDataEnd:!1,isRequestData:!1}},methods:{async reqVideoList(t){try{if(this.isRequestData||this.isDataEnd)return;this.isRequestData=!0;const e=await t();if(!e)return;if(200!==e.status)return void this.$message.error(e.data.msg);this.videoList.push(...e.data.data.videos||[]),this.latestTime=e.data.data.nextTime,(e.data.data.videos.length<15||!e.data.data.nextTime)&&(this.isDataEnd=!0),this.isRequestData=!1}catch(e){this.$message.error(e),this.isDataEnd=!0,this.isRequestData=!1}}}}}}]);