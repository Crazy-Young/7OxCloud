"use strict";(self["webpackChunk_7OxCloud"]=self["webpackChunk_7OxCloud"]||[]).push([[702],{7246:function(s,e,t){t.r(e),t.d(e,{default:function(){return _}});var o=function(){var s=this,e=s._self._c;return e("el-container",[e("header",[e("el-avatar",{attrs:{size:120,src:s.userInfo.avatar}},[s._v(s._s(s.userInfo.username||"加载中..."))]),e("div",{staticClass:"userInfo"},[e("h1",{staticClass:"username"},[s._v(s._s(s.userInfo.username||"加载中..."))]),e("p",{staticClass:"list"},[e("span",[s._v("关注")]),e("i",[s._v(s._s(s.userInfo.uid?s.userInfo.followCount:"-"))]),e("el-divider",{attrs:{direction:"vertical"}}),e("span",[s._v("粉丝")]),e("i",[s._v(s._s(s.userInfo.uid?s.userInfo.fanCount:"-"))]),e("el-divider",{attrs:{direction:"vertical"}}),e("span",[s._v("获赞")]),e("i",[s._v(s._s(s.userInfo.uid?s.userInfo.likedCount:"-"))])],1),s.userInfo.uid?e("p",{staticClass:"other"},[e("span",{staticClass:"account"},[s._v("账号ID: "+s._s(s.userInfo.uid))]),e("span",{staticClass:"gender tag"},[e("GenderIcon",{attrs:{gender:s.userInfo.gender}}),e("span",[s._v(s._s(s.userInfo.age)+"岁")])],1),e("span",{staticClass:"location tag"},[s._v(" "+s._s(s.userInfo.location))])]):s._e(),e("p",{staticClass:"signature",attrs:{title:s.userInfo.signature}},[s._v(s._s(s.userInfo.signature))])]),s.userInfo.uid?e("div",{staticClass:"tool"},[e("el-button",{class:{follow:s.userInfo.isFollow},attrs:{type:"danger"},on:{click:s.follow}},[s._v(s._s(s.userInfo.isFollow?"已关注":"关注"))])],1):s._e()],1),e("main",[e("el-tabs",{model:{value:s.activeChoice,callback:function(e){s.activeChoice=e},expression:"activeChoice"}},[e("el-tab-pane",{staticClass:"video-container",attrs:{disabled:!s.userInfo.uid,label:`作品 ${s.userInfo.uid?s.userInfo.workCount:""}`,name:"work"}},s._l(s.videoList,(function(t){return e("VideoBox",s._b({key:t.vid,ref:"VideoBox",refInFor:!0,attrs:{ratio:4/3,waterfall:!1}},"VideoBox",t,!1))})),1)],1),e("DataStatus",{ref:"loading",attrs:{isDataEnd:s.isDataEnd,length:s.videoList.length},on:{getVideoList:s.getVideoList}})],1)])},i=[],a=t(2900),n=t(2675),r=t(3822),u=t(1409),l=t(6428),d=t(8495),f=t(4246),c={name:"User",mixins:[l.Z],components:{VideoBox:u.Z,GenderIcon:d.Z,DataStatus:f.Z},data(){return{activeChoice:"work",userInfo:{}}},methods:{getUserInfo(){(0,a.ao)(this.uid).then((s=>{200===s.status?this.userInfo=s.data.data:this.$message.error(s.data.msg)}))},follow(){(0,a.Zz)({userId:this.userInfo.uid,type:this.userInfo.isFollow?2:1}).then((s=>{200===s.status?(this.userInfo.isFollow=!this.userInfo.isFollow,this.userInfo.fanCount+=this.userInfo.isFollow?1:-1):this.$message.error(s.data.msg)}))},getVideoList(){return this.reqVideoList((()=>(0,n.ZC)(this.uid,this.latestTime)))}},computed:{uid(){return this.$route.params.uid},...(0,r.rn)({myInfo:s=>s.user.userInfo})},mounted(){this.uid==this.myInfo.uid&&this.$router.replace({name:"Me"}),this.getUserInfo()}},I=c,h=t(1001),v=(0,h.Z)(I,o,i,!1,null,"87b6a446",null),_=v.exports}}]);