"use strict";(self["webpackChunk_7OxCloud"]=self["webpackChunk_7OxCloud"]||[]).push([[498],{4366:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("span",{staticClass:"topic-item",style:{"--size":t.size+"px"}},[e("router-link",{attrs:{to:{name:"Topic",params:{tid:t.id}}}},[t._v("# "+t._s(t.description))])],1)},l=[],i={name:"Topic",props:{id:{type:Number|String,required:!0},description:{type:String,default:""},size:{type:Number,default:12}}},n=i,r=a(1001),o=(0,r.Z)(n,s,l,!1,null,"7b01258c",null),c=o.exports},1409:function(t,e,a){a.d(e,{Z:function(){return y}});var s=function(){var t=this,e=t._self._c;return e("article",{staticClass:"video"},[e("div",{staticClass:"video-content",style:{paddingTop:100*t.ratio+"%"},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[e("XgPlayer",{ref:"video",staticClass:"video-content-xg",attrs:{playUrl:t.playUrl,coverUrl:t.coverUrl,ignores:["fullscreen","definition","i18n","cssfullscreen","playbackrate"],muted:"",vid:t.vid,ctrlpos:"bottom"}},[[e("div",{staticClass:"video-like-count"},[e("LikeHollowIcon"),t._v(" "+t._s(t.likeCount)+" ")],1),t.isDelete?e("div",{staticClass:"video-delete",on:{click:t.handleDelete}},[e("i",{staticClass:"el-icon-delete"})]):t._e()]],2)],1),e("div",{staticClass:"video-info"},[e("div",{staticClass:"video-info__header",class:{"fix-height":!t.waterfall}},[e("span",{staticClass:"desc"},[e("router-link",{staticClass:"title",attrs:{to:`/video/${t.vid}`}},[t._v(t._s(t.description))])],1),t._l(t.topics,(function(a){return e("Topic",t._b({key:a.id,staticClass:"topic"},"Topic",a,!1))}))],2),t.author?e("div",{staticClass:"video-info__footer"},[e("span",[e("router-link",{staticClass:"author",attrs:{to:{name:"User",params:{uid:t.author.uid}}}},[t._v(" @ "),e("span",[t._v(t._s(t.author.username))])]),e("span",[t._v(" · ")]),t.author.isFollow?e("span",{staticClass:"follow"},[t._v("已关注")]):e("span",{staticClass:"time"},[t._v(t._s(t.formatTime(t.publishTime)))])],1)]):t._e()])])},l=[],i=a(5675),n=a(4781),r=a(4366),o=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"BnHuaqS7",attrs:{width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.224 4.667C6.326 4.667 4 7.151 4 10.043l.002.169a1.078 1.078 0 00-.002.094c.009.387.097.855.195 1.245.096.382.23.806.38 1.113.605 1.301 1.664 2.563 2.683 3.6a30.679 30.679 0 003.425 3.008l.02.017.015.012c.226.226.703.7 1.554.7h.025c.241 0 .816-.001 1.331-.502.009-.008.022-.02.042-.035l.182-.151.004-.004c.565-.465 1.886-1.554 3.188-2.867.834-.836 1.698-1.807 2.359-2.81.09-.136.176-.273.258-.41.033-.055.06-.112.082-.17.03-.077.044-.108.055-.13.013-.025.034-.063.088-.146.038-.06.07-.122.096-.188.037-.093.064-.156.085-.199l.004-.009c.087-.11.152-.238.19-.374.162-.576.273-1.082.284-1.705 0-.03 0-.058-.002-.087a7.123 7.123 0 00.001-.206c-.019-2.876-2.338-5.341-5.224-5.341-1.094 0-2.159.339-2.999 1.021-.909-.658-1.957-1.021-3.097-1.021zm9.162 5.377v.134a2.388 2.388 0 000 .14c-.01.294-.057.559-.156.935-.043.07-.076.135-.1.186a4.313 4.313 0 00-.116.26c-.108.173-.178.31-.251.492-.05.082-.104.167-.16.252h-.001c-.55.834-1.304 1.69-2.087 2.476l-.003.002c-1.223 1.234-2.474 2.266-3.033 2.727l-.041.034c-.05.04-.105.086-.157.13l-.06-.061c-.065-.064-.154-.135-.197-.17l-.008-.006a28.517 28.517 0 01-3.214-2.817l-.003-.004c-.968-.985-1.824-2.042-2.27-3.009a4.077 4.077 0 01-.24-.719 4.491 4.491 0 01-.129-.715l.001-.036v-.098l-.001-.005-.002-.129c0-1.778 1.436-3.218 3.066-3.218.857 0 1.667.348 2.393 1.102a1.079 1.079 0 001.66-.129c.428-.61 1.155-.973 2.043-.973 1.63 0 3.066 1.441 3.066 3.218v.001z",fill:"#fff"}})])},c=[],u=a(1001),h={},d=(0,u.Z)(h,o,c,!1,null,null,null),v=d.exports,p=a(3822),f=a(2675),m={name:"VideoBox",data(){return{timer:null}},components:{XgPlayer:i.Z,Topic:r.Z,LikeHollowIcon:v},computed:{...(0,p.rn)({userInfo:t=>t.user.userInfo})},props:{vid:{type:String|Number},publishTime:{type:Number},playUrl:{type:String,default:()=>""},coverUrl:{type:String,default:()=>""},description:{type:String,default:"视频标题"},author:{type:Object,default:()=>{}},ratio:{type:Number,default:3/4},topics:{type:Array,default:()=>[]},waterfall:{type:Boolean,default:!0},likeCount:{type:Number,default:0},isDelete:{type:Boolean,default:!1}},methods:{formatTime:n.Z,play(){this.$refs.video.play()},pause(){this.$refs.video.pause()},handleMouseEnter(){this.timer=setTimeout((()=>{this.play()}),100)},handleMouseLeave(){clearTimeout(this.timer),this.pause()},handleDelete(){(0,f.Wq)(this.vid).then((t=>{200===t.status?(this.$message.success(t?.data?.msg),this.$emit("deleteVideo",this.vid)):this.$message.error(t?.data?.msg)}))}},beforeDestroy(){clearTimeout(this.timer),this.pause()}},g=m,_=(0,u.Z)(g,s,l,!1,null,"7541b632",null),y=_.exports},3684:function(t,e,a){a.d(e,{Z:function(){return o}});var s=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"FhOy97Hs",attrs:{width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.875 1.5a6.375 6.375 0 103.642 11.608l3.063 3.063a1.125 1.125 0 001.59-1.591l-3.062-3.063A6.375 6.375 0 007.875 1.5zM3.75 7.875a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0z",fill:"#4F5168"}})])},l=[],i=a(1001),n={},r=(0,i.Z)(n,s,l,!1,null,null,null),o=r.exports},458:function(t,e,a){a.r(e),a.d(e,{default:function(){return I}});var s=function(){var t=this,e=t._self._c;return e("el-container",[e("el-header",{attrs:{height:"68px"}},[e("div",{staticClass:"logo",on:{click:function(e){return t.navigateTo("/")}}},[e("Logo")],1),e("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.navigateTo(`/search?keyword=${t.search}`)}},scopedSlots:t._u([{key:"append",fn:function(){return[e("button",{on:{click:function(e){return t.navigateTo(`/search?keyword=${t.search}`)}}},[e("SearchIcon"),e("span",[t._v("搜索")])],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e("div",{staticClass:"user"},[e("div",{staticClass:"tools"},[e("div",{staticClass:"upload",on:{click:function(e){return t.navigateTo("/upload")}}},[e("PublishIcon"),e("span",{staticClass:"text"},[t._v("投稿")])],1)]),t.userInfo.avatar?e("el-avatar",{attrs:{alt:"logo",src:t.userInfo.avatar},nativeOn:{click:function(e){return t.navigateTo("/me")}}},[t._v(t._s(t.userInfo.username))]):e("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.handleLogin}},[e("UserIcon"),e("p",{staticClass:"login"},[t._v("登录")])],1)],1)],1),e("el-container",[e("el-aside",[e("el-menu",{attrs:{"default-active":t.$route.path,router:""}},t._l(t.routes,(function(a){return e("el-menu-item",{key:a.name,attrs:{index:a.path}},[e("div",{staticClass:"icon",style:{"--index":t.currentRoute===a.path?2*a.meta.index+1:2*a.meta.index}}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.meta.title))])])})),1)],1),e("el-main",[e("router-view",{key:t.$route.fullPath,staticClass:"main"})],1)],1)],1)},l=[],i=(a(7658),function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"78",height:"22",viewBox:"0 0 78 22"}},[e("mask",{staticStyle:{"mask-type":"alpha"},attrs:{id:"logo_svg__a",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"31",height:"21"}},[e("path",{attrs:{d:"M0 .08h30.52v20.33H0V.08z"}})]),e("g",{attrs:{mask:"url(#logo_svg__a)"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.52.316c-.513-.177-.938.038-1.182.221A18.392 18.392 0 0115.26 7.071c-1.94 0-3.809-.3-5.565-.855l-.78-2.837s-.38-1.156-1.665-.958l.37 2.995A18.495 18.495 0 011.182.536C.94.355.515.14 0 .317A16.343 16.343 0 008.092 9.24l1.013 8.202s.452 3.138 3.397 3.138H18.8c2.944 0 3.397-3.138 3.397-3.138l.712-5.878c-1.912-.155-3.115 1.177-3.496 2.492-.64 2.214-.64 2.356-.766 2.742-.258.79-1.107.885-1.107.885h-3.778s-.849-.094-1.107-.885c-.167-.51-.998-3.488-1.835-6.51 1.412.399 2.901.613 4.44.613 6.99 0 12.949-4.403 15.26-10.585z"}})]),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M77.835 12.624v-2.203H64.11v2.203h2.525l-1.952 4.908h-.034v2.203h11.743c.737-.053 1.4-.709 1.4-1.388 0-.338-.109-.723-.132-.8h.002l-.994-2.738h-2.43l.988 2.723h-8.16l1.952-4.908h8.816zm-21.374-3.3h4.893v-2.15h-4.893v-2.18h-2.203v2.18h-3.384l.283-1.616h-2.303l-1.176 6.729h.936c.312-.031 1.359-.23 1.624-1.476l.26-1.487h3.76v6.563h-6.57v2.203h6.57v2.167h2.203V18.09h5.449v-2.203h-5.449V9.324zM35.713 5.017H33.51v2.147H31.32v2.22h2.189v8.967c.062.74.656 1.33 1.398 1.384h8.653a1.518 1.518 0 001.447-1.428v-3.505H42.81v2.678h-7.096V9.385h9.826v-2.22h-9.827V5.016zm28.97 2.664h12.553v-2.15H64.684v2.15z"}})])}),n=[],r=a(1001),o={},c=(0,r.Z)(o,i,n,!1,null,"a79368fe",null),u=c.exports,h=a(3822),d=a(1409),v=a(3684),p=function(){var t=this,e=t._self._c;return e("svg",{staticClass:"lG5TmBA_",attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.349 5.17h-.033c-1.068 0-1.915 0-2.598.054-.698.056-1.29.172-1.832.441a4.75 4.75 0 00-2.14 2.14c-.269.542-.386 1.134-.441 1.832-.055.683-.055 1.53-.055 2.599v.064c0 1.069 0 1.916.055 2.599.055.698.172 1.29.441 1.831a4.75 4.75 0 002.14 2.14c.542.27 1.134.386 1.832.442.683.055 1.53.055 2.598.055H12.684c1.068 0 1.915 0 2.598-.055.698-.056 1.29-.172 1.832-.442a4.75 4.75 0 002.14-2.14c.269-.541.386-1.133.441-1.831.055-.683.055-1.53.055-2.599v-.064c0-1.069 0-1.916-.055-2.599-.055-.698-.172-1.29-.441-1.832a4.75 4.75 0 00-2.14-2.14c-.542-.269-1.134-.385-1.832-.441-.683-.055-1.53-.055-2.598-.055h-1.335zM7.554 7.008c.299-.149.676-.241 1.284-.29.616-.05 1.403-.05 2.51-.05h1.303c1.108 0 1.895 0 2.511.05.608.049.985.141 1.284.29a3.25 3.25 0 011.464 1.464c.15.3.241.676.29 1.284.05.616.05 1.403.05 2.51 0 1.109 0 1.896-.05 2.512-.049.608-.14.985-.29 1.284a3.25 3.25 0 01-1.464 1.464c-.299.149-.676.241-1.284.29-.616.05-1.403.05-2.51.05h-1.303c-1.108 0-1.895 0-2.511-.05-.608-.049-.985-.141-1.284-.29a3.25 3.25 0 01-1.464-1.464c-.15-.3-.242-.676-.29-1.284-.05-.616-.05-1.403-.05-2.511s0-1.895.05-2.511c.048-.608.14-.985.29-1.284a3.25 3.25 0 011.464-1.464zm3.696 8.259v-2.25H9v-1.5h2.25v-2.25h1.5v2.25H15v1.5h-2.25v2.25h-1.5z"}})])},f=[],m={},g=(0,r.Z)(m,p,f,!1,null,null,null),_=g.exports,y=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",id:"svg_icon_avatar"}},[e("rect",{attrs:{width:"18",height:"18",rx:"9",fill:"#fff","fill-opacity":"0.3"}}),e("path",{attrs:{d:"M2.244 14.946A8.978 8.978 0 019 11.893a8.978 8.978 0 016.756 3.053A8.978 8.978 0 019 18a8.978 8.978 0 01-6.756-3.054zM12.214 7.393a3.214 3.214 0 11-6.428 0 3.214 3.214 0 016.428 0z",fill:"#fff"}})])},w=[],C={},k=(0,r.Z)(C,y,w,!1,null,null,null),x=k.exports;const b={"其他":16,"生活":11,"教育":8,"体育":12};var T={name:"Base",components:{Logo:u,VideoBox:d.Z,SearchIcon:v.Z,PublishIcon:_,UserIcon:x},data(){return{search:""}},computed:{routes(){return[...this.$router.getRoutes().filter((t=>t.meta.isNav)),...this.categoryList.reverse().map((t=>({path:"/channel/"+t.id,name:t.name,meta:{title:t.name,index:b[t.name]}})))]},currentRoute(){return this.$route.path},...(0,h.rn)({userInfo:t=>t.user.userInfo,categoryList:t=>t.category.categoryList})},methods:{navigateTo(t){this.$router.push({path:t})},handleLogin(){this.$bus.$emit("toggleLogin")}}},z=T,Z=(0,r.Z)(z,s,l,!1,null,"8c92ea70",null),I=Z.exports}}]);